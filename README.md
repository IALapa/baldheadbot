# 🎵 머머리봇 (MouMouRee) - 잔디마을 출신 디코봇


> **Gemini와 함께 개발한 파이썬 기반의 다기능 디스코드 봇입니다. 모듈화된 Cog 구조를 통해 음악, TTS, 관리, 일반 명령어 등 다양한 기능을 체계적으로 관리하고 확장할 수 있도록 설계되었습니다.**

![Python](https://img.shields.io/badge/Python-3.10%2B-blue?logo=python)
![discord.py](https://img.shields.io/badge/discord.py-2.3.2-7289DA?logo=discord)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

## ✨ 주요 기능 (Key Features)

### 🎶 음악 기능
* **노래 검색 및 선택 재생:** `/검색` 명령어로 노래를 검색하고, 드롭다운 메뉴를 통해 원하는 곡을 선택하여 재생합니다.
* **빠른 재생:** `/play` 명령어로 검색어의 첫 번째 결과를 즉시 대기열에 추가합니다.
* **정교한 볼륨 조절:** `/volume 기본`으로 서버의 기준 볼륨을, `/volume 설정`으로 개인의 청취 배율을 설정하는 2단계 볼륨 시스템을 갖추고 있습니다.
* **다양한 플레이어 컨트롤:** 대기열(`queue`), 건너뛰기(`skip`), 일시정지(`pause`), 다시재생(`resume`), 정지(`stop`) 등 필수적인 모든 기능을 지원합니다.
* **자동 퇴장:** 음성 채널에 봇만 혼자 남을 경우, 60초 후에 자동으로 채널을 나갑니다.

### 🔊 TTS (Text-to-Speech) 기능
* **개인별 TTS 토글:** `/tts 켜기`, `/tts 끄기` 명령어로 사용자 본인의 TTS 기능만 선택적으로 활성화/비활성화할 수 있습니다.
* **음악 재생과 충돌 방지:** 음악이 재생 중일 때는 TTS가 작동하지 않아 오디오가 겹치는 현상을 방지합니다.
* **기본 볼륨 조절:** TTS 목소리의 기본 볼륨이 50%로 설정되어 있어 사용자의 청각을 보호합니다.

### 🛠️ 관리 기능
* **멤버 관리:** `/밴`, `/킥` 명령어를 통해 서버 멤버를 추방하거나 내보낼 수 있습니다. (`관리자 권한 필요`)
* **메시지 청소:** `/청소 <개수>` 명령어로 채팅 채널의 메시지를 한 번에 삭제할 수 있습니다. (`메시지 관리 권한 필요`)

### ⚙️ 일반 및 편의 기능
* **서버 및 봇 정보:** `/ping`으로 봇의 응답 속도를, `/서버정보`로 현재 서버의 상세 정보를 확인할 수 있습니다.
* **이모지 확대:** 서버 커스텀 이모지만 채팅에 입력 시, 봇이 해당 이모지를 확대해서 보여줍니다. (`메시지 관리 권한`이 있으면 원본 메시지는 삭제됩니다.)
* **외부 이모지 검색:** `/이모지 <이름>` 명령어로 봇이 속한 다른 서버의 이모지를 불러와 사용할 수 있습니다.

## 🛠️ 설치 및 설정 방법 (Installation & Setup)

### 1. 사전 요구사항
* **Python 3.10 이상**
* **FFmpeg:** 음악 및 TTS 재생을 위해 반드시 설치되어 있어야 합니다. 시스템 환경 변수(PATH)에 등록하는 것을 권장합니다.
  * [FFmpeg 공식 홈페이지](https://ffmpeg.org/download.html)

### 2. 설치 과정

1.  **저장소 복제 (Clone Repository)**
    ```bash
    git clone https://github.com/IALapa/baldheadbot
    cd your-repo-name
    ```
2.  **가상 환경 생성 및 활성화**
    ```bash
    # Windows
    python -m venv .venv
    .venv\Scripts\activate

    # macOS / Linux
    python3 -m venv .venv
    source .venv/bin/activate
    ```
3.  **필요한 라이브러리 설치**
    ```bash
    pip install -r requirements.txt
    ```

### 3. 환경 설정
프로젝트 최상위 폴더에 아래의 두 파일을 생성하고 내용을 채워주세요.

* **`.env` 파일 (봇 토큰 관리)**
    ```
    DISCORD_BOT_TOKEN="여기에_디스코드_봇_토큰을_입력하세요"
    ```

* **`discord_bot/data/config.json` 파일 (봇 설정 관리)**
    ```json
    {
      "prefix": "!"
    }
    ```
    * `prefix`: 봇의 접두사 명령어를 설정합니다.

### 4. requirements.txt 파일 생성
프로젝트에 필요한 라이브러리 목록입니다. 아래 내용을 `requirements.txt` 파일에 저장하세요.

    discord.py>=2.3.2
    python-dotenv>=1.0.0
    yt-dlp>=2023.12.30
    gTTS>=2.5.1
    PyNaCl>=1.5.0
    
## 🚀 봇 실행 (Running the Bot)
모든 설정이 완료되었으면, 최상위 폴더에서 아래 명령어를 실행하여 봇을 시작합니다.
```bash
python discord_bot/bot.py
```

## 📋 명령어 목록 (Command List)

### 🎶 음악 (Music)
| 명령어 | 설명 |
| :--- | :--- |
| `/재생 <검색어>` | 검색어의 첫 번째 결과를 즉시 대기열에 추가합니다. |
| `/재생 <숫자>` | 대기열의 해당 번호 노래를 즉시 재생합니다. |
| `/검색 <검색어>` | 상위 10개 결과를 드롭다운 메뉴로 보여주고 선택하여 재생합니다. |
| `/대기열` | 현재 재생 목록(대기열)을 보여줍니다. |
| `/스킵` | 현재 재생 중인 노래를 건너뜁니다. |
| `/일시정지` | 노래를 일시정지합니다. |
| `/계속` | 일시정지된 노래를 다시 재생합니다. |
| `/중지` | 재생을 중지하고 대기열을 모두 비웁니다. |
| `/참가` | 봇을 음성 채널에 참가시킵니다. |
| `/빠빠이` | 봇을 음성 채널에서 내보냅니다. |
| `/볼륨 설정 <배율>` | 개인별 볼륨 배율을 조절합니다. (0-200) |
| `/볼륨 기본 <볼륨>` | 서버의 기본 볼륨을 설정합니다. (0-100, 관리자용) |
| `/볼륨 상태` | 현재 적용된 볼륨 설정을 확인합니다. |

### 🔊 TTS
| 명령어 | 설명 |
| :--- | :--- |
| `/tts 켜기` | 명령어를 실행한 사용자의 TTS를 활성화합니다. |
| `/tts 끄기` | 명령어를 실행한 사용자의 TTS를 비활성화합니다. |

### 🛠️ 관리 (Admin)
| 명령어 | 설명 |
| :--- | :--- |
| `/밴 <멤버> [사유]` | 멤버를 서버에서 영구 추방합니다. |
| `/킥 <멤버> [사유]` | 멤버를 서버에서 내보냅니다. |
| `/청소 <개수>` | 현재 채널의 메시지를 지정한 수만큼 삭제합니다. |

### ⚙️ 일반 (General)
| 명령어 | 설명 |
| :--- | :--- |
| `/ping` | 봇의 응답 속도를 확인합니다. |
| `/서버정보` | 현재 서버의 상세 정보를 보여줍니다. |
| `/이모지 <이름>` | 봇이 속한 다른 서버의 이모지를 검색하여 보여줍니다. |

## 🏛️ 프로젝트 구조 (Project Structure)
    baldheadbot/
    ├── .venv/
    ├── discord_bot/
    │   ├── bot.py
    │   ├── cogs/
    │   │   ├── init.py
    │   │   ├── general_commands.py
    │   │   ├── admin_commands.py
    │   │   ├── music.py
    │   │   ├── tts_commands.py
    │   │   └── emoji_commands.py
    │   │   └── taja_game.py
    │   ├── core/
    │   │   ├── init.py
    │   │   ├── check.py
    │   │   ├── embed.py
    │   │   └── exceptions.py
    │   └── data/
    │       └── config.json
    ├── .env
    ├── .gitignore
    └── requirements.txt


## 📄 라이선스 (License)
이 프로젝트는 [MIT 라이선스](https://opensource.org/licenses/MIT)를 따릅니다.
